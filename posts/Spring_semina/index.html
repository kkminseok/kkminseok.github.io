<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Spring DAO란?, DTO란?, VO란?, DTO vs VO, DTO vs Domain, DAO vs Repository" /><meta name="author" content="강민석" /><meta property="og:locale" content="ko" /><meta name="description" content="귀염둥이 후배들과 스터디를 하면서 세미나를 하기로 했다." /><meta property="og:description" content="귀염둥이 후배들과 스터디를 하면서 세미나를 하기로 했다." /><link rel="canonical" href="https://kkminseok.github.io/posts/Spring_semina/" /><meta property="og:url" content="https://kkminseok.github.io/posts/Spring_semina/" /><meta property="og:site_name" content="민석강" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-10-06T01:34:50+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Spring DAO란?, DTO란?, VO란?, DTO vs VO, DTO vs Domain, DAO vs Repository" /><meta name="twitter:site" content="@none" /><meta name="twitter:creator" content="@강민석" /><meta name="google-site-verification" content="_icgy_j24DLYroQvKYTiffcqemP7ldWCxmrM2cGtYck" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"강민석"},"dateModified":"2022-04-29T17:33:52+09:00","datePublished":"2021-10-06T01:34:50+09:00","description":"귀염둥이 후배들과 스터디를 하면서 세미나를 하기로 했다.","headline":"Spring DAO란?, DTO란?, VO란?, DTO vs VO, DTO vs Domain, DAO vs Repository","mainEntityOfPage":{"@type":"WebPage","@id":"https://kkminseok.github.io/posts/Spring_semina/"},"url":"https://kkminseok.github.io/posts/Spring_semina/"}</script><title>Spring DAO란?, DTO란?, VO란?, DTO vs VO, DTO vs Domain, DAO vs Repository | 민석강</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="민석강"><meta name="application-name" content="민석강"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/sample/logo.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">민석강</a></div><div class="site-subtitle font-italic">3년차 개발자. 40살에 100억벌고 은퇴</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/kkminseok" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/none" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['minseok19950727','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Spring DAO란?, DTO란?, VO란?, DTO vs VO, DTO vs Domain, DAO vs Repository</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Spring DAO란?, DTO란?, VO란?, DTO vs VO, DTO vs Domain, DAO vs Repository</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/none">kang minseok</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1633451690" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2021-10-06 </em> </span> <span> Updated <em class="timeago" data-ts="1651221232" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-04-29 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2313 words"> <em>12 min</em> read</span></div></div></div><div class="post-content"><p>귀염둥이 후배들과 스터디를 하면서 세미나를 하기로 했다.</p><p>나는 DAO, DTO, VO, @Entity의 개념을 조사하기로 했다.</p><hr /><h2 id="daodatabase-access-object"><span class="mr-2">DAO(Database Access Object)</span><a href="#daodatabase-access-object" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>즉, 데이터베이스에 접근하는 <strong>객체</strong>이다.</p><p>단일 데이터의 접근 및 갱신의 개념.</p><p>프로젝트의 구성중 Repositry와 DAO가 비슷하다고 생각하여 조사하였다.(실제로 같다고 보는 사람들도 있다.)</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">QuestionRepository</span> <span class="kd">extends</span> <span class="nc">CrudRepository</span><span class="o">&lt;</span><span class="nc">Question</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span>
</pre></table></code></div></div><ul><li><p>Repository vs DAO</p><p>일단 이게 논란이 많은 부분이라고하는 듯.<br /> 그래서 찾아보면 다 개인적인 견해라고 밝힘.<br /> 제일 심오하게 고민한 글 : <a href="https://bperhaps.tistory.com/entry/Repository%EC%99%80-Dao%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90">https://bperhaps.tistory.com/entry/Repository와-Dao의-차이점</a></p><p>각자 읽는 것을 추천. 저 내용을 정리하기엔 제대로 전달할 자신이 없다.</p><p>참고 : &lt;<a href="https://bbbicb.tistory.com/44">https://bbbicb.tistory.com/44</a>&gt;</p></ul><h3 id="1-none"><span class="mr-2">1. None</span><a href="#1-none" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>DAO는 data persistence의 추상화<li><p>Repository는 a collection of objects의 추상화.</p><p>먼말인지 모르겠음.. 찾아봐도 잘 안 나온다. data persistence관련은 IBM 홈페이지에 정리되어있음.&lt;<a href="https://www.ibm.com/docs/en/cloud-paks/cp-biz-automation/20.0.x?topic=designer-data-persistence">https://www.ibm.com/docs/en/cloud-paks/cp-biz-automation/20.0.x?topic=designer-data-persistence</a>&gt;</p><li>DAO는 데이터베이스와 관련이 많다. Table중심.<li>Repository는 도메인과 관련이 많다. Arggregate Roots만을 다룬다.<li>DDD와 Aggregate Root란?</ul><h3 id="ddddomain-driven-design---도메인-중심으로-설계하는-디자인-방법론-도메인-주도-설계"><span class="mr-2">DDD(Domain Driven Design) - 도메인 중심으로 설계하는 디자인 방법론 도메인 주도 설계</span><a href="#ddddomain-driven-design---도메인-중심으로-설계하는-디자인-방법론-도메인-주도-설계" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>Domain ?<ul><li><p>회원가입, 회원탈퇴 등에서 작업은 모두 ‘회원’의 중심으로 진행됨. 여기서 회원이 도메인. 어플리케이션 내 로직들이 관여하는 정보와 활동의 영역.</p><li><p>옷 쇼핑몰에서 손님들이 주문하는 도메인이 존재할 수도 있고, 점주입장에서는 옷들을 관리하는 도메인이 존재할 수 있다. 즉, 사건이 발생하는 집합들. 추상화된 것들도 대상이 될 수 있다는 것. ‘주문’이라는 것처럼.</p><li><p>또한 이처럼 문맥에 따라 객체의 역할이 바뀌는 것을 <strong>Bounded Context</strong>라고 부름.</p><li><p>Bounded Context에 따라서 Model의 역할은 완벽히 달라지고, 책임 또한 달라짐.</p><li>DDD가 필요한 이유<ul><li>데이터에 종속적으로 개발하거나 모델링과 개발이 불일치한 경우를 방지하기 위해 DDD가 등장.</ul><li>설계 방식?<ul><li><p>크게 3가지 Layer로 나눔. <img data-src="/assets/img/sample/JAVA/study/semina/Layer.png" alt="&quot;Layers&quot;" data-proofer-ignore></p><li><p>그 전에 사진에 MicroService가 나왔는데 why?</p><li><p>위에서 Bounded Context에 대해 말했는데, 이러한 관점을 더나아가서 서비스에 적용시킨 것이 <strong>MicroService</strong>라고 한다.</p><li><p>서로 다른 도메인 영역에 영향을 끼치기 위해서는 API 호출로 해야 된다는 것.</p><li><p>각각의 도메인은 서로 철저히 분리되고, <strong>높은 응집력</strong>과 <strong>낮은 결합도</strong>로 변경과 확장에 용이한 설계를 얻게됨. (응집력, 결합도 모르는 사람?)</p><li><p>Application Layer : 주로 도메인과 Repository 바탕으로 실제 서비스(API)를 제공하는 계층</p><li><p>Domain Layer : Entity, VO를 활용하여 도메인 로직이 진행되는 계층</p><li><p>Infrastructure Layer : 쉽게 말해서 외부와의 통신(ORM, DB, NoSQL)을 담당하는 계층</p><li><p>DDD의 핵심은 <strong>도메인을 서비스로 별로 분리하라</strong></p><li><p>하지만 모든 도메인마다 많은 객체를 다루고 각 객체마다 Repository를 만들면 DDD가 가지는 장점을 내세울 수 없게됨. 여기서 등장하는 것이 <strong>Aggregate(집합)</strong></p></ul></ul></ul><hr /><h3 id="aggregate집합"><span class="mr-2">Aggregate(집합)</span><a href="#aggregate집합" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><p>각각의 도메인 영역을 대표하는 객체를 Aggregate라고 함.</p><li><p>그렇게 하면, 각각의 <strong>도메인에 Repository로 묶어야하는 객체(Entity)가 명확해지기 때문.</strong></p><li><p>Top - Down 방식으로 계층을 타고타고 내려갈 때 어떤 Entity를 만들기 위해 도메인이 이루어져 있는지 명확하게 들어오기도 함.</p><li><p>예 <img data-src="/assets/img/sample/JAVA/study/semina/Aggregate.JPG" alt="&quot;aggregate&quot;" data-proofer-ignore><br /> 출처 : &lt;<a href="https://huisam.tistory.com/entry/DDD">https://huisam.tistory.com/entry/DDD</a>&gt;</p></ul><p>위의 예시에서 Order라는 Domain에서 Order라는 Entity를 만들기 위해 다양한 객체들이 상호협력하고 있는 관계를 볼 수 있다.</p><ul><li><p>이 Aggreagte 포함되어 있는 특정 Entity를 Aggregate Root라고 한다.</p><li><p>위의 경우에서 루트는(Order)는 하나만 존재하고, Aggregate 내의 특정 엔티티를 가리킨다. 경계 안의 객체는 서로 참조할 수 있지만, 경계 바깥의 객체는 해당 Aggregate의 구성요소 중 루트에만 참조할 수 있다.</p><li><p>위의 방식으로 사용해야 하는 이유는 <strong>데이터 무결성</strong> 측면이 있다. Order가 아닌, shpping address 등에만 데이터를 저장하면 데이터 무결성이 깨질 위험이 있다.</p></ul><hr /><h2 id="dtodata-transfer-object"><span class="mr-2">DTO(Data Transfer Object)</span><a href="#dtodata-transfer-object" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>DataBase에서 Data를 얻어 Service나 Controller 등으로 보낼 때 사용하는 객체.</p><h2 id="vovalue-object"><span class="mr-2">VO(Value Object)</span><a href="#vovalue-object" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>각 계층간 데이터 교환을 위한 자바 객체를 의미.</p><p>레이어 간에 전달하는 목적을 가지고 있으며, 객체의 속성과 getter, setter만을 가지고 있음.</p><p>계층간 데이터 교환을 위한 자바 빈즈(Java Beans)이다.</p><ul><li>자바 빈즈?<ul><li>자바로 작성된 소프트웨어 컴포넌트들을 지칭하는 단어<li>MVC모델 기준 Model이 JavaBeans<li>JSP에서도 쓰이는데 JSP문법은 모르니 pass → JSP 파일 내에서 사용이 가능한 객체라고 생각.</ul></ul><p>즉 DTO는 Database에서 Data를 얻어 Service나 Controller 등으로 보낼 때 사용하는 객체.</p><ul><li>VO(Value Object) vs DTO</ul><p>VO는 DTO와 동일한 개념이지만 read only 속성을 갖음.</p><p>VO는 특정한 비즈니스 값을 담는 객체이고, DTO는Layer간의 통신 용도로 오고가는 객체를 말함.</p><hr /><h2 id="entity---고유-식별자를-바탕으로-객체의-정체성을-부여"><span class="mr-2">Entity - 고유 식별자를 바탕으로 객체의 정체성을 부여</span><a href="#entity---고유-식별자를-바탕으로-객체의-정체성을-부여" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>실제 DB의 테이블과 매칭될 클래스</p><ul><li>즉, 테이블과 링크될 클래스임을 의미.<li>Entity클래스 도는 가장 Core한 클래스라 부름<li><p>최대한 외부에서 Entity 클래스의 getter method를 사용하지 않도록 해당 클래스 안에서 필요한 로직 method를 구현한다.</p><li>Entity와 VO의 차이점<ul><li><p>Entity는 고유 식별자(Primary key)를 바탕으로 객체의 정체성을 부여.</p><li>VO는 상태(Attribute)를 바탕으로 객체의 정체성을 부여.<li>equals Hashcode를 <strong>id로만 하면 Entity, 상태에 대한 모든 정보로 하면 VO</strong></ul></ul><hr /><h2 id="dto와-entity를-분리하는-이유"><span class="mr-2">DTO와 Entity를 분리하는 이유</span><a href="#dto와-entity를-분리하는-이유" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>View Layer와 DB Layer의 역할을 철저하게 분리하기 위해서이다.<li>테이블과 매핑되는 Entity 클래스가 변경되면 여러 클래스에 영향을 끼치게 되는 반면 View와 통신하는 DTO클래스는 자주 변경되므로 분리해야 한다.<li>Domain Model을 아무리 잘 설계했다고 해도 View 내에서 Domain Model의 getter만을 이용해서 원하는 정보를 표시하기 어려운 경우가 있다고 함. 이런 경우 Presentation을 위한 필드나 로직을 추가하게 되는데, 이러한 방식이 모델링의 순수성을 깨고 Domain Model 객체를 망가뜨리게 됨.<li>또한 Domain Model을 복잡하게 조합한 형태의 Presentation 요구사항들이 있기 때문에 Domain Modl을 직접 사용하는 것은 어려움.<li>즉 DTO는 Domain Model을 복사한 형태로, 다양한 Presentation Logic을 추가한 정도로 사용하며 Domain Model 객체는 Persistent만을 위해서 사용한다.<li>여기서 Persentation은 View계층, persistent는 인프라스트럭쳐 = DB, 외부 라이브러리 등의 인프라</ul><p><img data-src="/assets/img/sample/JAVA/study/semina/DTODOMAIN.JPG" alt="&quot;DTODOMAIN&quot;" data-proofer-ignore></p><hr /><h2 id="controllerweb"><span class="mr-2">Controller(web)</span><a href="#controllerweb" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>기능<ul><li>해당 요청 url에 따라 적절한 view와 mapping 처리<li>@Autowired service 를 통해 Service의 method를 이용<li>적절한 RsponseEntity(DTO)를 body에 담아 Client에 반환</ul><li>@Controller vs @RestController<ul><li>Controller<ul><li>API와 view를 동시에 사용하는 경우에 사용<li>대신 API 서비스로 사용하는 경우는 @ResponseBody를 사용하여 객체를 반환<li>View(화면) return이 주목적</ul><li>RestController<ul><li>view가 필요없는 API만 지원하는 서비스에서 사용.<li>@ResquestMapping 메서드가 기본적으로 @ResponseBody 의미를 가정<li>data(json, xml 등) return이 주목적 : return ResponseEntity<li>즉, @Controller + @ResponseBody</ul></ul></ul><hr /><h2 id="service"><span class="mr-2">Service</span><a href="#service" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>기능<ul><li>Autowired를 사용하든 뭘하든 어떠한 방식을 통해 repository의 method를 이용<li><p>DAO로 DB에 접근하고 DTO로 데이터를 받은 다음, 비즈니스 로직을 처리해 적절한 데이터로 반환</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserService</span> <span class="o">{</span>
  <span class="nd">@Autowired</span>
  <span class="kd">private</span> <span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">;</span> <span class="c1">// -&gt; DAO</span>
  <span class="nd">@Resource</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"bCryptPasswordEncoder"</span><span class="o">)</span>
  <span class="kd">private</span> <span class="nc">PasswordEncoder</span> <span class="n">bCryptPasswordEncoder</span><span class="o">;</span> <span class="c1">// 비즈니스 로직을 처리하기 위한 변수?</span>
  <span class="nd">@Autowired</span>
  <span class="kd">private</span> <span class="nc">MessageSourceAccessor</span> <span class="n">msa</span><span class="o">;</span>
    
<span class="c1">//비즈니스로직, userRepo에 접근하고, 예외가 발생할 경우 메시지를 던지는 비즈니스 로직</span>
  <span class="kd">public</span> <span class="nc">User</span> <span class="nf">save</span><span class="o">(</span><span class="nc">UserDto</span> <span class="n">userDto</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">isExistUser</span><span class="o">(</span><span class="n">userDto</span><span class="o">.</span><span class="na">getEmail</span><span class="o">()))</span> <span class="o">{</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">UserDuplicatedException</span><span class="o">(</span><span class="n">msa</span><span class="o">.</span><span class="na">getMessage</span><span class="o">(</span><span class="s">"email.duplicate.message"</span><span class="o">));</span>
      <span class="o">}</span>
      <span class="k">return</span> <span class="n">userRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">userDto</span><span class="o">.</span><span class="na">toEntityWithPasswordEncode</span><span class="o">(</span><span class="n">bCryptPasswordEncoder</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
    
</pre></table></code></div></div></ul></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/java/'>Java</a>, <a href='/categories/spring-cs/'>Spring_CS</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/spring/" class="post-tag no-text-decoration" >Spring</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Spring DAO란?, DTO란?, VO란?, DTO vs VO, DTO vs Domain, DAO vs Repository - 민석강&amp;url=https://kkminseok.github.io/posts/Spring_semina/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Spring DAO란?, DTO란?, VO란?, DTO vs VO, DTO vs Domain, DAO vs Repository - 민석강&amp;u=https://kkminseok.github.io/posts/Spring_semina/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://kkminseok.github.io/posts/Spring_semina/&amp;text=Spring DAO란?, DTO란?, VO란?, DTO vs VO, DTO vs Domain, DAO vs Repository - 민석강" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/2023-03-06-dnd/">DND 8기 활동 후기</a><li><a href="/posts/2024-03-31-fastapi/">fastapi Swagger Response 분리하기</a><li><a href="/posts/2023-05-19-think01/">5월19일시점 개발하면서 고민한 것들 + 도커관련 이슈</a><li><a href="/posts/2023-05-02-Modern-Java-In-action/">2번 읽는 Modern Java In Action - Chapter06 스트림으로 데이터 수집</a><li><a href="/posts/2023-03-18-Modern-Java-In-Action/">2번 읽는 Modern Java In Action - Chapter01 기초</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/leetcode/">leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/baekjoon/">Baekjoon</a> <a class="post-tag" href="/tags/algorithmstudy/">AlgorithmStudy</a> <a class="post-tag" href="/tags/top100like/">Top100Like</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/fastapi/">FastAPI</a> <a class="post-tag" href="/tags/economy/">Economy</a> <a class="post-tag" href="/tags/dp/">DP</a> <a class="post-tag" href="/tags/top100interview/">Top100Interview</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Intellij_spring/"><div class="card-body"> <em class="timeago small" data-ts="1662480120" > 2022-09-07 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Intellij에서 Spring framework추가하기 (Add Frameworks에 없을 때)</h3><div class="text-muted small"><p> 이렇게 그냥 빈 프로젝트를 생성했을때 Spring Frame work을 추가하고 싶을때가 있다. 아니면 아차 싶어서 못했을때 프로젝트를 다시 파는 삽질을 하는 사람도 있을것이다. 보통 프로젝트 상단 우클릭에서 Add Frameworks Support를 클릭하여 프레임워크를 찾는 경우가 있다. 보통 여길 누르면 SpringFramework가...</p></div></div></a></div><div class="card"> <a href="/posts/Spring_Project1/"><div class="card-body"> <em class="timeago small" data-ts="1633106090" > 2021-10-02 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring Security 오류 FindBy~()가 DB에서 객체를 못 찾을 때</h3><div class="text-muted small"><p> Spring 스터디를 하면서 Spring Securtiy를 통해 로그인, 로그아웃 구현을 하였다. 처음에는 내 식대로 커스텀마이징 하다가 많인 오류가 생겼고, 그냥 따라치기로 했다. 도대체 뭐가 문제였을까? 일단 알아야할 것이 있었다. @Override protected void configure(HttpSecurity httpS...</p></div></div></a></div><div class="card"> <a href="/posts/realworld_01/"><div class="card-body"> <em class="timeago small" data-ts="1662998520" > 2022-09-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>real-world프로젝트 Spring 시작하기(1) - real-world란?</h3><div class="text-muted small"><p> real-world project 구현 과정 카테고리 보기 먼저 우아한형제 리얼월드 글에서 글을 읽어보면 이해하기 편하다. 나는 저 글을 읽고 시작할때 어떻게 해야할지 감을 못잡았다. 현재 리얼월드를 Spring + boot + JPA + thymeleaf 템플릿엔진 + js (Axios or Ajax)로 구현할 예정이다. 기술스택은 바...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/economy1004/" class="btn btn-outline-primary" prompt="Older"><p>2021.10.01(금).경제 정리노트</p></a> <a href="/posts/book3/" class="btn btn-outline-primary" prompt="Newer"><p>부자아빠 가난한 아빠 20주년(로버트 기요사키 저) 독후감</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "kkminseok/kkminseok.github.io", "data-repo-id": "MDEwOlJlcG9zaXRvcnkzNDUwNzI2OTM=", "data-category": "Announcements", "data-category-id": "DIC_kwDOFJFkNc4CO5-J", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/none">kang minseok</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/leetcode/">leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/baekjoon/">Baekjoon</a> <a class="post-tag" href="/tags/algorithmstudy/">AlgorithmStudy</a> <a class="post-tag" href="/tags/top100like/">Top100Like</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/fastapi/">FastAPI</a> <a class="post-tag" href="/tags/economy/">Economy</a> <a class="post-tag" href="/tags/dp/">DP</a> <a class="post-tag" href="/tags/top100interview/">Top100Interview</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-KMXXJ0D586"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-KMXXJ0D586'); }); </script>
