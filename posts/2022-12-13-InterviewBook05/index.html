<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="가상 면접 사례로 배우는 대규모 시스템 설계 기초 5장 - 안정 해시 설계" /><meta name="author" content="minseok" /><meta property="og:locale" content="ko" /><meta name="description" content="가상 면접 사례로 배우는 대규모 시스템 설계 기초 책 정리 글입니다." /><meta property="og:description" content="가상 면접 사례로 배우는 대규모 시스템 설계 기초 책 정리 글입니다." /><link rel="canonical" href="https://kkminseok.github.io/posts/2022-12-13-InterviewBook05/" /><meta property="og:url" content="https://kkminseok.github.io/posts/2022-12-13-InterviewBook05/" /><meta property="og:site_name" content="민석강" /><meta property="og:image" content="https://kkminseok.github.io/assets/img/book/interview/logo.jpg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-12-13T01:02:00+09:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://kkminseok.github.io/assets/img/book/interview/logo.jpg" /><meta property="twitter:title" content="가상 면접 사례로 배우는 대규모 시스템 설계 기초 5장 - 안정 해시 설계" /><meta name="twitter:site" content="@none" /><meta name="twitter:creator" content="@minseok" /><meta name="google-site-verification" content="_icgy_j24DLYroQvKYTiffcqemP7ldWCxmrM2cGtYck" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"minseok"},"dateModified":"2022-12-16T00:58:08+09:00","datePublished":"2022-12-13T01:02:00+09:00","description":"가상 면접 사례로 배우는 대규모 시스템 설계 기초 책 정리 글입니다.","headline":"가상 면접 사례로 배우는 대규모 시스템 설계 기초 5장 - 안정 해시 설계","image":"https://kkminseok.github.io/assets/img/book/interview/logo.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://kkminseok.github.io/posts/2022-12-13-InterviewBook05/"},"url":"https://kkminseok.github.io/posts/2022-12-13-InterviewBook05/"}</script><title>가상 면접 사례로 배우는 대규모 시스템 설계 기초 5장 - 안정 해시 설계 | 민석강</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="민석강"><meta name="application-name" content="민석강"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/sample/logo.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">민석강</a></div><div class="site-subtitle font-italic">3년차 개발자. 40살에 100억벌고 은퇴</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/kkminseok" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/none" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['minseok19950727','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>가상 면접 사례로 배우는 대규모 시스템 설계 기초 5장 - 안정 해시 설계</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>가상 면접 사례로 배우는 대규모 시스템 설계 기초 5장 - 안정 해시 설계</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/kkminseok">minseok</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1670860920" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-12-13 </em> </span> <span> Updated <em class="timeago" data-ts="1671119888" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-12-16 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2003 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><blockquote class="prompt-info"><div><p>가상 면접 사례로 배우는 대규모 시스템 설계 기초 책 정리 글입니다.</p></div></blockquote><h1 id="개요">개요</h1><p>요청 또는 데이터를 서버에 균등하게 나누는 것이 중요하다. 안정 해시는 이 목표를 달성하기 위해 보편적으로 사용하는 기술이다.</p><h2 id="️-해시-키-재비치rehash-문제"><span class="mr-2">✏️ 해시 키 재비치(rehash) 문제</span><a href="#️-해시-키-재비치rehash-문제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>보편적으로 해시 함수는 다음과 같이 사용한다.</p><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>serverIndex = hash(key) % N(서버의 개수)
</pre></table></code></div></div><p>만약 서버의 개수4 라고 하면</p><div class="table-wrapper"><table><thead><tr><th>키<th>해시값<th>해시 % 4<tbody><tr><td>key0<td>5<td>1<tr><td>key1<td>6<td>2<tr><td>key2<td>7<td>3<tr><td>key3<td>8<td>0</table></div><p>그러면 서버 입장에서는 hash(key0) % 4 =1이면, 클라이언트는 캐시에 보관된 데이터를 가져오기 위해 서버 1에 접속해야한다.</p><p>위와 같은 방법은 서버 풀(pool)의 크기가 고정되어 있을 때, 데이터 분포가 균등할 때 잘 작동한다. 하지만 서버가 삭제가 되거나 추가되면 어떻게 될까?</p><p>예로 서버1이 장애를 일으켜 동작이 중지되었다면 서버 풀의 크기는 3이 될 것이고, 그에따른 해시 값의 나머지 연산들은 바뀔 것이다.</p><div class="table-wrapper"><table><thead><tr><th>키<th>해시값<th>해시 % 3<tbody><tr><td>key0<td>5<td>2<tr><td>key1<td>6<td>0<tr><td>key2<td>7<td>1<tr><td>key3<td>8<td>2</table></div><p>서버가 하나 줄음에 따라 해시의 나머지값들이 기존 값과 동일한 것이 단 하나도 없다. 이러면 1번 서버가 죽으면 모든 캐시 클라이언트가 데이터가 없는 서버에 접근하게 된다는 것이다. 그 결과로 대규모 캐시 미스(cache miss)가 발생할 것이다. <strong>안정 해시는 이 문제를 효과적으로 해결하는 기술이다.</strong></p><hr /><h2 id="️-안정-해시"><span class="mr-2">✏️ 안정 해시</span><a href="#️-안정-해시" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p><strong>해시 테이블 크기가 조정될 때 오직 k/n개의 키만 재배치하는 해시 기술</strong> k는 키의 개수, n은 슬롯(slot)의 개수이다.</p><h3 id="해시-공간과-해시-링"><span class="mr-2">해시 공간과 해시 링</span><a href="#해시-공간과-해시-링" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>해시 함수f는 SHA-1을 사용한다고 가정하면 해시를 통해 나온 값의 범위는 0부터 $ 2^{160} -1$ 까지라고 알려져 있다.</p><p>x0을 0, xn은 $ 2^{160} -1 $ 라고 하면</p><p><img data-src="https://user-images.githubusercontent.com/30401054/207240443-768b7911-4485-43da-927a-8e4f7b46503c.png" alt="image" data-proofer-ignore></p><p>이러한 길이를 가지는 공간을 가질 것이다. 사이사이 공간들은 x1,x2,x3…라고 가정한다. 이 공간을 <strong>해시 공간(hash space)</strong>이라고 한다.</p><p>그리고 이를 양쪽을 접어 구부리면</p><p><img data-src="https://user-images.githubusercontent.com/30401054/207240558-f9c22c6b-df29-4800-862f-e76aec9de393.png" alt="image" data-proofer-ignore></p><p>이러한 그림의 형태인 <strong>해시 링(hash ring)</strong>이라고 한다.</p><h3 id="해시-서버"><span class="mr-2">해시 서버</span><a href="#해시-서버" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>이를 해시 함수 f를 통해서 서버IP나 이름을 이 링 위의 어떤 위치에 대응시킬 수 있다. 만약 4개의 서버가 있다고 하고 서버를 배치한다고 하면</p><p><img data-src="https://user-images.githubusercontent.com/30401054/207240938-7ee7ce10-7c9b-4cfb-80a7-9e842676c265.png" alt="image" data-proofer-ignore></p><p>이런식으로 배치할 수 있다.</p><h3 id="해시-키"><span class="mr-2">해시 키</span><a href="#해시-키" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>여기서 사용된 <strong>해시 함수f는 나머지 연산을 하지 않고 있음을 알고 있어야한다.</strong> 때문에 해시 키는 링 위의 어느 지점에 배치할 수 있다.</p><p><img data-src="https://user-images.githubusercontent.com/30401054/207241108-686358fc-8288-4fd5-b0d8-4348d09c00cd.png" alt="image" data-proofer-ignore></p><h3 id="서버-조회"><span class="mr-2">서버 조회</span><a href="#서버-조회" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>어떠한 키가 저장되는 서버는, <strong>해당 키가 시계 방향으로 링을 탐색했을때 조우하는 첫 번째 서버다</strong>. 때문에 위 그림에서 key0은 server0에 저장되고 key1는 server1에 저장되는 식이다.</p><h3 id="서버-추가"><span class="mr-2">서버 추가</span><a href="#서버-추가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>만약 서버가 추가되더라도 키 가운데 일부만 재배치하면 된다.</p><p><img data-src="https://user-images.githubusercontent.com/30401054/207241857-d6b8a89a-012e-4e32-b8ed-e785d49fd6ff.png" alt="image" data-proofer-ignore></p><p>server4가 추가되자 key0은 server0에 저장되는것이 아닌 server4에 저장될 것이다.</p><p>그림이 너무 당연해서 뭐가 바뀐건지 헷갈릴 수 있는데, 나머지연산으로 재배치했던 해시함수는 모든 키의 저장 위치가 바뀔 수 있었는데 이 방식은 서버가 추가되어도 모든 키에 영향을 미치는게 아니라는 것이다.</p><h3 id="서버-제거"><span class="mr-2">서버 제거</span><a href="#서버-제거" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>마찬가지로 서버가 하나 제거 되었을때 그 서버가 저장하고 있던 키들만 재배치 해주면 될 것이다.</p><p><img data-src="https://user-images.githubusercontent.com/30401054/207242367-f77c1ca9-37f4-4ce7-b63b-cd496c9102bb.png" alt="image" data-proofer-ignore></p><h3 id="기본-구현법의-두-가지-문제"><span class="mr-2">기본 구현법의 두 가지 문제</span><a href="#기본-구현법의-두-가지-문제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>기본 절차는 다음과 같다.</p><ul><li>서버와 키를 균등 분포(uniform distribution) 해시 함수를 사용해 해시 링에 배치한다.<li>키의 위치에서 링을 시계 방향으로 탐색하다 만나는 최초의 서버가 키가 저장될 서버다.</ul><p>생각해보면 첫 번째 조건이 굉장히 <strong>이상적</strong>이라고 볼 수 있다. 당장 위의 예제만 봐도 서버 하나가 지워지거나 추가될 때마다 균등성이 깨져버린다.</p><p>또 다른 문제는 키가 하나의 서버에 몰려서 저장될 가능성이 높아서 균등성 문제가 생긴다는 것이다.</p><p><img data-src="https://user-images.githubusercontent.com/30401054/207243383-3140b644-e14f-4106-9c3c-cde0c4838cec.png" alt="image" data-proofer-ignore></p><blockquote><p>s1,s3는 아무 키도 저장되어있지 않은데 s2에 대부분의 키가 저장되어있는걸 볼 수 있다.</p></blockquote><p>이를 해결하기 위해서 <strong>가상 노드(virtual node)</strong> 또는 <strong>복제(replica)</strong>라 불리는 기법이 생겼다.</p><h3 id="가상-노드"><span class="mr-2">가상 노드</span><a href="#가상-노드" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>가상 노드는 실제 노드 또는 서버를 가리키는 노드다.</p><p>결과적으로 이 노드들을 링위에 많이 넣어버려서 해시 링에 균등성을 주는 것이다.</p><p><strong>동작 방식</strong></p><ul><li>서버0과 서버1이 있다. (더 추가 가능)<li>서버0과, 서버1은 N개의 가상 노드를 가진다.(여기서 N은 3이라 가정)<li>s0_0, s0_1, s0_2는 서버0의 가상노드들이고, s1_0, s1_1, s1_2는 서버 1의 가상노드들이다.<li>서버0과 서버1은 이 노드들의 경계들(파티션)을 관리하게 된다.</ul><p><img data-src="https://user-images.githubusercontent.com/30401054/207244662-d3896c33-41da-447e-84c2-93da50fe5f2e.png" alt="image" data-proofer-ignore></p><p>이제 새로운 키가 서버에 저장되어야 한다고 하면, 키의 위치가 임의적으로 정해지고 링을 탐색하면서 가장 가까운 서버에 저장될 것이다.</p><p><img data-src="https://user-images.githubusercontent.com/30401054/207244798-0d35e2dd-f6b9-4cd7-bcff-8a23e85fe5c6.png" alt="image" data-proofer-ignore></p><p>k0이라고 불리는 키가 s1.1에 저장되는데 s1.1은 가상노드이고 <strong>실제 가리키는 건 서버1이므로 서버1에 저장될 것이다.</strong></p><p>이렇듯, 가상 노드를 늘리면 키의 분포는 점점 균등해지지만 저장할 공간이 더 필요해진다는 트레이드 오프가 있다.</p><p>때문에 적절히 노드 개수를 조절해야한다.</p><hr /><h2 id="-정리"><span class="mr-2">🤔 정리</span><a href="#-정리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>안정 해시가 나오게 된 배경은 보편적으로 사용하는 해시 함수의 경우 서버가 삭제나 추가 되었을 때 키가 재분배 되느라 없는 캐시에 접근하여 캐시 미스가 발생하는 확률을 줄이고 키가 최대한 덜 재분배되고 균등하게 맞추는 목표에 있다.</p><p>안정 해시의 이점은 다음과 같다.</p><ul><li>서버가 추가되거나 삭제될 때 재배치 되는 키의 수가 최소화된다.<li>데이터가 보다 균등하게 분포되어 수평적 규모 확장이라는 목표에 달성하기 쉬워졌다.<li>핫스팟(hotspot) 키 문제를 줄인다. 특정 샤드(shard)에 접근이 지나치게 빈번하거나 등의 문제를 말한다. 안정 해시는 데이터를 좀 더 균등하게 분배하므로 이런 문제가 생길 가능성을 줄여준다.</ul><p>안정 해시는 실제로 널리 쓰이는 기술이고, 네트워크 부하 분산기, CDN, 디스코드 채팅 어플리케이션, 아파치 카산드라 클라스터에서의 데이터 파티셔닝, 아마존 다이나모 데이터베이스의 파티셔닝 관련 컴포넌트에서 쓰인다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/book/'>Book</a>, <a href='/categories/%EA%B0%80%EC%83%81-%EB%A9%B4%EC%A0%91-%EC%82%AC%EB%A1%80%EB%A1%9C-%EB%B0%B0%EC%9A%B0%EB%8A%94-%EB%8C%80%EA%B7%9C%EB%AA%A8-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EA%B8%B0%EC%B4%88/'>가상 면접 사례로 배우는 대규모 시스템 설계 기초</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/book/" class="post-tag no-text-decoration" >book</a> <a href="/tags/interview/" class="post-tag no-text-decoration" >interview</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=가상 면접 사례로 배우는 대규모 시스템 설계 기초 5장 - 안정 해시 설계 - 민석강&amp;url=https://kkminseok.github.io/posts/2022-12-13-InterviewBook05/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=가상 면접 사례로 배우는 대규모 시스템 설계 기초 5장 - 안정 해시 설계 - 민석강&amp;u=https://kkminseok.github.io/posts/2022-12-13-InterviewBook05/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://kkminseok.github.io/posts/2022-12-13-InterviewBook05/&amp;text=가상 면접 사례로 배우는 대규모 시스템 설계 기초 5장 - 안정 해시 설계 - 민석강" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/2023-03-06-dnd/">DND 8기 활동 후기</a><li><a href="/posts/2024-03-31-fastapi/">fastapi Swagger Response 분리하기</a><li><a href="/posts/2023-05-19-think01/">5월19일시점 개발하면서 고민한 것들 + 도커관련 이슈</a><li><a href="/posts/2023-05-02-Modern-Java-In-action/">2번 읽는 Modern Java In Action - Chapter06 스트림으로 데이터 수집</a><li><a href="/posts/2023-03-18-Modern-Java-In-Action/">2번 읽는 Modern Java In Action - Chapter01 기초</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/leetcode/">leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/baekjoon/">Baekjoon</a> <a class="post-tag" href="/tags/algorithmstudy/">AlgorithmStudy</a> <a class="post-tag" href="/tags/top100like/">Top100Like</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/fastapi/">FastAPI</a> <a class="post-tag" href="/tags/economy/">Economy</a> <a class="post-tag" href="/tags/dp/">DP</a> <a class="post-tag" href="/tags/top100interview/">Top100Interview</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/20221207InterviewBook01/"><div class="card-body"> <em class="timeago small" data-ts="1670346120" > 2022-12-07 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>가상 면접 사례로 배우는 대규모 시스템 설계 기초 1장 - 사용자 수에 따른 규모 확장성</h3><div class="text-muted small"><p> 가상 면접 사례로 배우는 대규모 시스템 설계 기초 책 정리 글입니다. 개요 원준이라는 친구가 나 공부 열심히하라고 책을 선물해줬다. 읽어보도록 했다. 1장은 한 명의 사용자를 지원하는 시스템에서 시작한다. ✏️ 단일 서버 웹브라우저, 웹 서버, DNS가 있을때 사용자의 요청 (웹 브라우저에서 요청을 보냄)이 어떻게 처리되는지를 알...</p></div></div></a></div><div class="card"> <a href="/posts/20221208InterviewBook02/"><div class="card-body"> <em class="timeago small" data-ts="1670432520" > 2022-12-08 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>가상 면접 사례로 배우는 대규모 시스템 설계 기초 2장 - 개략적인 규모 추정</h3><div class="text-muted small"><p> 가상 면접 사례로 배우는 대규모 시스템 설계 기초 책 정리 글입니다. 개요 이 장은 시스템 용량이나 성능 요구사항을 개략적으로 측정하는 방법에 대해 다룬다. 개략적 규모 추정을 효과적으로 필요한 기본기에 능숙해야 한다. 특히, 2의 제곱수나 응답지연(latency) 값, 그리고 가용성에 관계된 수치들을 기본적으로 잘 이해하고 있어야 한다고...</p></div></div></a></div><div class="card"> <a href="/posts/2022-12-09-InterviewBoo03/"><div class="card-body"> <em class="timeago small" data-ts="1670515320" > 2022-12-09 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>가상 면접 사례로 배우는 대규모 시스템 설계 기초 3장 - 시스템 설계 면접 공략법</h3><div class="text-muted small"><p> 가상 면접 사례로 배우는 대규모 시스템 설계 기초 책 정리 글입니다. 개요 시스템 설계 면접은 두 명의 동료가 모호한 문제를 풀기 위해 협력하여 해결책을 찾아가는 과정이다. 때문에 정답도 없고 결과도 없다. 설계과정에서 내린 결정에 대해 방어하는 능력을 보는 과정이고, 면접관의 피드백을 건설적인 방향으로 처리할 자질이 있음을 보는 면접이다....</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/2022-12-11-JavaVersion11/" class="btn btn-outline-primary" prompt="Older"><p>Java 11버전은 뭐가 달라졌나</p></a> <a href="/posts/2022-12-14-interviewBook06/" class="btn btn-outline-primary" prompt="Newer"><p>가상 면접 사례로 배우는 대규모 시스템 설계 기초 6장 - 키-값 저장소 설계</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "kkminseok/kkminseok.github.io", "data-repo-id": "MDEwOlJlcG9zaXRvcnkzNDUwNzI2OTM=", "data-category": "Announcements", "data-category-id": "DIC_kwDOFJFkNc4CO5-J", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/none">kang minseok</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/leetcode/">leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/baekjoon/">Baekjoon</a> <a class="post-tag" href="/tags/algorithmstudy/">AlgorithmStudy</a> <a class="post-tag" href="/tags/top100like/">Top100Like</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/fastapi/">FastAPI</a> <a class="post-tag" href="/tags/economy/">Economy</a> <a class="post-tag" href="/tags/dp/">DP</a> <a class="post-tag" href="/tags/top100interview/">Top100Interview</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-KMXXJ0D586"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-KMXXJ0D586'); }); </script>
